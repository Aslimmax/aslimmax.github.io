<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>

        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
            integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
            crossorigin="anonymous"
        />

        <style>
            * {
                box-sizing: border-box;
            }
            section#rotate {
                margin: 0;
                background-size: cover;
                background: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/full-lonely.jpg")
                    no-repeat center center fixed;
                background-blend-mode: darken;
                transition: 3s;
            }
            /* body {
                margin: 0;
            } */
        </style>
    </head>
    <body>
        <section id="rotate" class="jumbotron text-center mb-0 hero-banner bg-blue-gray" style="padding-top: 100px; padding-bottom: 100px">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <h1>True Cross-Fade Background Images</h1>
                    </div>
                </div>
            </div>
        </section>
    </body>
    <script
        src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"
    ></script>
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
        crossorigin="anonymous"
    ></script>
    <script>
        var bgImageArray = [
                "lonely.jpg",
                "uluwatu.jpg",
                "carezza-lake.jpg",
                "batu-bolong-temple.jpg",
            ],
            base = "https://s3-us-west-2.amazonaws.com/s.cdpn.io/4273/full-",
            secs = 4;
        bgImageArray.forEach(function (img) {
            new Image().src = base + img;
            // caches images, avoiding white flash between background replacements
        });

        function backgroundSequence() {
            window.clearTimeout();
            var k = 0;
            for (i = 0; i < bgImageArray.length; i++) {
                setTimeout(function () {
                    document.getElementById("rotate").style.background =
                        "url(" +
                        base +
                        bgImageArray[k] +
                        ") no-repeat center center fixed linear-gradient(45deg, rgba(53, 72, 90, 0.50), rgba(53, 72, 90, 0.50))";
                    document.getElementById("rotate").style.backgroundSize = "cover";
                    if (k + 1 === bgImageArray.length) {
                        setTimeout(function () {
                            backgroundSequence();
                        }, secs * 1000);
                    } else {
                        k++;
                    }
                }, secs * 1000 * i);
            }
        }
        backgroundSequence();
    </script>
</html>
